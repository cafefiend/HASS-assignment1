<!doctype html>
<html>
<head>
<title>Assignment 1</title>
<style>

td,
th {
    border: 1px solid rgb(214, 219, 223);
    padding: 10px;
}

td {
    text-align: center;
}

tr:nth-child(even) {
    background-color: #EAECEE;
}

th[scope='col'] {
    background-color: #B0BEC5;
    color: #fff;
}

th[scope='row'] {
    background-color: #E3F2FD;
}

caption {
    padding: 10px;
    caption-side: bottom;
}

table {
    border-collapse: collapse;
    border: 2px solid rgb(245, 245, 245);
    letter-spacing: 1px;
    font-family: sans-serif;
    font-size: 0.8rem;
}


<table id="PSITable">
  <thead>
    <tr>
      <th>Metric</th>
      <th>National</th>
      <th>Central</th>
      <th>West</th>
      <th>East</th>
      <th>North</th>
      <th>South</th>
    </tr>
  </thead>
  <tbody id="tableBody">
  </tbody>
</table>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>


fetch('https://api.data.gov.sg/v1/environment/psi')
  .then(response => response.json())
  .then(data => {
  
    let tableBody = document.getElementById('tableBody');
    data.forEach(element => {
      let row = tableBody.insertRow();
      let metricCell = row.insertCell(0);
      let nationalCell = row.insertCell(1);
      let centralCell = row.insertCell(2);
      let westCell = row.insertCell(3);
      let eastCell = row.insertCell(4);
      let northCell = row.insertCell(5);
      let southCell = row.insertCell(6);
      metricCell.innerHTML = element.metric;
      nationalCell.innerHTML = element.national;
      centralCell.innerHTML = element.central;
      westCell.innerHTML = element.west;
      northCell.innerHTML = element.north;
      southCell.innerHTML = element.south;
    });
  });
let timestamp = data.items[0].update_timestamp;
    let readings = data.items[0].readings;
    console.log(timestamp);
    console.log(readings);
    
    $("#timestring").text(timestamp);
  
  });


</script>
</body>
</html>
